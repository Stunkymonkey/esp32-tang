# disable nix builders because they are slow for copy operations
export NIX_BUILDERS=""

# Automatically load the Nix development environment when entering this directory
use flake

# Export ESP-IDF related environment variables
export IDF_TOOLS_PATH="$HOME/.espressif"
export CCACHE_DIR="$HOME/.ccache"

# Prevent Python bytecode generation
export PYTHONDONTWRITEBYTECODE=1

# Enable colored output for various tools
export FORCE_COLOR=1

# Set common ESP32 development variables
export ESP_TARGET=esp32
export ESP_BOARD=esp32dev

# Set locale to avoid issues
export LANG=C.UTF-8
export LC_ALL=C.UTF-8

# Create necessary directories
mkdir -p "$IDF_TOOLS_PATH"
mkdir -p "$CCACHE_DIR"

# Show a message when the environment is loaded
echo "ðŸš€ ESP32 Tang Server environment loaded!"
echo "ESP-IDF ready - run 'make help' for available commands"
